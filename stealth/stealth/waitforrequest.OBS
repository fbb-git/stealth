#include "stealth.ih"

void Stealth::waitForRequest()
{
    if (d_task.mode(WAIT))
    {
        m1 << "MODE: WAIT" << endl;

        if (d_chore.wait(d_ipc.waitSeconds()) == cv_status::timeout)



        while (true)
        {
            d_ipc.timedWait();
            if (d_ipc.timeout() || d_request)   // wait for the next request
                break;                          // or timeout
        }

        if (d_task.mode(WAIT))
            d_task.setMode(INTEGRITY_SCAN);
    }
}
